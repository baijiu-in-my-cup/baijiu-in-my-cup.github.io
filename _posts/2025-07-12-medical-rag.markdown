---
layout: post
title: "大模型应用落地反思：突破RAG幻想，以场景为锚，用评估导航"
subtitle:   "Reflections on the application of LLM: Break through RAG fantasy, anchor with scenarios, and navigate with evaluation"
date:       2025-07-12 12:00:00
author:     "Bryan"
header-mask: 0.3
catalog:    true
tags:
    - rag
    - llm
---

## 背景介绍

近年来，医疗领域对大模型应用的探索持续深入，个人在[大模型技术专栏](https://www.zhihu.com/column/c_1709670747138748418)中也积累了近 60 篇相关技术博客。实践过程中，涵盖了RAG、Agent、模型微调、知识图谱等多种技术路线，医学通用场景下 RAG 的准确率已由最初的 50% 提升至 90%。然而，医学作为高度严谨的应用场景，90% 的准确性依旧无法完全满足的生产需求。

2025 年以来，进一步聚焦于医学细分场景，尝试了多种不那么 AI 的场景化解决方案，部分方案在特定场景下取得了显著成效，真正满足了生产需求。本文结合实际探索，总结若干大模型落地的关键体会，供大家参考。

## 通用方案的局限性

2024年，RAG成为大模型应用领域的热点方向，但2025年以来技术创新趋于平缓，正如[2025 RAG技术现状盘点](https://mp.weixin.qq.com/s/C1E4hdhaaVf7GCbnonoZhw)所述，RAG技术已进入瓶颈期。实践表明，依赖单一通用大模型方案难以应对现实世界的复杂多样需求，各类场景均存在明显局限。

以医疗领域为例，通用RAG服务在实际应用中暴露出如下问题：

1. **向量检索的精度问题**：医学知识并非简单的概念堆砌。诸如CT检查是否增强、肝脏病灶是否超过3cm、糖尿病并发症是否影响视网膜等细节，往往在语义近似的向量空间中被稀释或忽略。医学问题强调“精确性”，而向量检索的“模糊性”难以满足需求。即便病例主诉、现病史极为相似，细微差异（如肿瘤标志物检查、抗药史等）却决定诊疗方向，向量模型对此区分能力有限；
2. **分片检索的信息完整性问题**：为适应模型上下文窗口限制，RAG 方案通常将长文档分片向量化处理。但在医学场景下，分片策略易导致信息割裂。例如，完整病历包含病史、检查结果、医嘱等多部分，分片检索常常只返回部分片段，丢失上下文，影响医学推理的可靠性；
3. **应用场景的多样性**：现实世界用户需求多样且分散，通用知识增强方案难以覆盖所有长尾问题。为提升适用性，往往叠加大量“雕花”技巧，导致系统复杂性和维护成本上升，效率下降；

## 场景化的解决方案

实践中我们逐步认识到，通用方案难以覆盖医疗的复杂性。唯有深入理解业务流程、锚定具体场景，才能设计出真正可行的技术路径。以下以实际案例说明：

在医疗场景下，单纯依赖预训练大模型难以满足生产需求，主要因其幻觉问题、医学知识覆盖不足及时效性限制，需通过医学知识增强加以补足。

RAG 是当前主流的知识增强解决方案，但在实际应用中，其局限性逐步显现。常规优化手段可以一定程度解决部分问题，一些最佳实践之前在 [RAG 最佳实践](https://zhuanlan.zhihu.com/p/8861103446) 及 [2025补充](https://zhuanlan.zhihu.com/p/1924463502703167032) 中都进行了整理。然而，RAG 准确率提升至 90% 后，进一步突破极为困难，且不断暴露新的长尾问题。

我们的经验表明，明确应用场景定义后，往往能发现更高效的解决路径。例如，医学应用场景中，病例诊断具有明确指向性，而医学指南知识多以疾病为单位组织。通过疾病名称进行知识匹配，可有效规避向量检索的模糊性。当然，疾病名称存在别名导致的匹配率低的问题，此时可借助 [ICD编码](https://code.nhsa.gov.cn/search.html?sysflag=80) 进一步提升匹配精度。方案演化如下：

![match](/img/in-post/medical-rag/match.png)

通过上述方法，能够显著提升疾病知识场景下的匹配准确性，实现从90%到100%的跨越。当然，这仅为医疗场景的典型案例，实际应用仍需结合具体业务属性，挖掘最优解。

## 数据飞轮驱动下的技术迭代

大模型应用落地不仅依赖合适的技术方案，更需完善的评估体系以支撑业务持续迭代。缺乏清晰评估，项目易陷入“面面俱到却无一精通”的困境。大模型应用多以文本输出为主，若无明确评估机制，技术演进的可靠性难以保障。

大模型业界普遍通过构建 BenchMark 进行评估。例如，向量模型有 [mteb](https://huggingface.co/spaces/mteb/leaderboard) 榜单，大模型则有 [lmarena](https://lmarena.ai/leaderboard) 等多种榜单。

实际经验表明，通用榜单数据集难以直接迁移至具体应用，最优策略是结合自身业务场景构建专属评估集。以业务目标为导向的数据集，能有效引导技术迭代方向。推荐的大模型应用技术迭代流程如下：

![loop](/img/in-post/medical-rag/loop.png)

## 总结

本文基于医学大模型应用落地的实践，总结了若干思考。尽管指出了通用 RAG 方案的局限性，但 RAG 依然是知识检索领域极具价值的技术路径。更为关键的是，需明确大模型应用的具体场景，针对性构建适配方案，并以数据飞轮驱动持续优化，才能打造真正可落地的产品。
